<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PARRILLADAS FAMILIARES</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #f6f5f3, #042490); margin: 0; min-height: 100vh; display: flex; justify-content: center; }
  .form-box { background: #fff; border-radius: 12px; width: 95%; max-width: 1200px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); margin: 20px 0; }
  .nav { display: flex; justify-content: space-around; background: #042490; padding: 10px; }
  .nav-btn { flex: 1; padding: 10px; border: none; background: transparent; color: #fff; cursor: pointer; font-weight: bold; }
  .nav-btn.activo { background: rgba(255,255,255,0.1); }
  h1 { text-align: center; color: #042490; margin-top: 20px; }
  .filtros { display: flex; gap: 10px; padding: 20px; background: #f8f9fa; border-bottom: 1px solid #eee; flex-wrap: wrap; }
  .filtro-select, .buscar-input { padding: 8px; border: 2px solid #ddd; border-radius: 6px; }
  .btn-limpiar { padding: 8px 16px; background: #042490; color: white; border: none; border-radius: 6px; cursor: pointer; }
  #listaProductos { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; padding: 20px; }
  .producto { background: #fdfdfd; border: 1px solid #eee; border-radius: 8px; padding: 15px; text-align: center; cursor: pointer; transition: transform 0.2s; }
  .producto:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
  .producto-imagen { width: 100%; height: 150px; background: #f8f9fa; border-radius: 6px; display: flex; align-items: center; justify-content: center; color: #042490; font-weight: bold; margin-bottom: 10px; }
  .precio { font-weight: bold; color: #042490; font-size: 18px; margin: 10px 0; }
  .producto button { width: 100%; padding: 10px; background: #042490; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 10px; }
  .contador { text-align: center; color: #666; margin: 10px; }
  .escenario { display: none; }
  .escenario.activo { display: block; }
  .sin-resultados { text-align: center; padding: 40px; color: #666; }
</style>
</head>
<body>

<div class="form-box">
  <div class="nav">
    <button class="nav-btn" onclick="location.href='E2F1.html'">INICIO</button>
    <button class="nav-btn activo" onclick="location.href='E2F2.html'">CATÁLOGO</button>
  </div>

  <div id="catalogo" class="escenario activo">
    <h1>PARRILLADAS FAMILIARES DON EDUARDO</h1>
    <p>Catálogo completo</p>
    
    <div class="filtros">
      <input type="text" class="buscar-input" id="buscarInput" placeholder="Buscar..." onkeyup="filtrarProductos()">
      <select class="filtro-select" id="categoriaFilter" onchange="filtrarProductos()">
        <option value="">Todas</option>
        <option value="carnes">Carnes</option>
        <option value="acompañamientos">Acompañamientos</option>
        <option value="bebidas">Bebidas</option>
      </select>
      <button class="btn-limpiar" onclick="limpiarFiltros()">Limpiar</button>
    </div>

    <div class="contador" id="contadorProductos">Mostrando productos</div>
    
    <div id="listaProductos"></div>
  </div>

  <div id="sin-resultados" class="escenario">
    <h1>PARRILLADAS FAMILIARES DON EDUARDO</h1>
    <div class="sin-resultados">
      <h3>No se encontraron productos</h3>
      <button class="btn-limpiar" onclick="mostrarEscenario('catalogo')">Ver Todos</button>
    </div>
  </div>
</div>

<script>
const productos = [
  { id: 1, nombre: "Lomo Vetado", descripcion: "Corte premium de res", precio: 160000, categoria: "carnes", imagen: " LOMO" },
  { id: 2, nombre: "Costillar Cerdo", descripcion: "Marinado 24 horas", precio: 45000, categoria: "carnes", imagen: " COSTILLAR" },
  { id: 3, nombre: "Punta de Anca", descripcion: "Corte especial", precio: 52000, categoria: "carnes", imagen: " PUNTA" },
  { id: 4, nombre: "Longaniza", descripcion: "Receta tradicional", precio: 12000, categoria: "carnes", imagen: " LONGANIZA" },
  { id: 5, nombre: "Pollo Brasas", descripcion: "Marinado hierbas", precio: 25000, categoria: "carnes", imagen: " POLLO" },
  { id: 6, nombre: "Papas Rusticas", descripcion: "Asadas con hierbas", precio: 12000, categoria: "acompañamientos", imagen: " PAPAS" },
  { id: 7, nombre: "Ensalada César", descripcion: "Fresca con aderezo", precio: 15000, categoria: "acompañamientos", imagen: " ENSALADA" },
  { id: 8, nombre: "Refrescos", descripcion: "Jugos naturales", precio: 8000, categoria: "bebidas", imagen: " BEBIDA" }
];

let productosFiltrados = [...productos];

document.addEventListener('DOMContentLoaded', mostrarProductos);

function mostrarEscenario(nombre) {
  document.querySelectorAll('.escenario').forEach(e => e.classList.remove('activo'));
  document.getElementById(nombre).classList.add('activo');
}

function mostrarProductos() {
  const grid = document.getElementById('listaProductos');
  const contador = document.getElementById('contadorProductos');
  
  grid.innerHTML = '';
  contador.textContent = `${productosFiltrados.length} productos`;

  if (productosFiltrados.length === 0) {
    mostrarEscenario('sin-resultados');
    return;
  }

  productosFiltrados.forEach(p => {
    grid.innerHTML += `
      <div class="producto" onclick="verDetalle(${p.id})">
        <div class="producto-imagen">${p.imagen}</div>
        <h3>${p.nombre}</h3>
        <p>${p.descripcion}</p>
        <div class="precio">$${p.precio.toLocaleString()}</div>
        <button onclick="event.stopPropagation(); agregarAlCarrito(${p.id})">Agregar al Carrito</button>
      </div>
    `;
  });
}

function verDetalle(idProducto) {
  // Guardar el producto seleccionado y redirigir
  localStorage.setItem('productoSeleccionado', idProducto);
  location.href = 'E2F3.html';
}

function agregarAlCarrito(id) {
  const producto = productos.find(p => p.id === id);
  alert(`✅ ${producto.nombre} agregado al carrito`);
}

function filtrarProductos() {
  const busqueda = document.getElementById('buscarInput').value.toLowerCase();
  const categoria = document.getElementById('categoriaFilter').value;

  productosFiltrados = productos.filter(p => {
    const coincideBusqueda = p.nombre.toLowerCase().includes(busqueda) || p.descripcion.toLowerCase().includes(busqueda);
    const coincideCategoria = !categoria || p.categoria === categoria;
    return coincideBusqueda && coincideCategoria;
  });

  mostrarProductos();
}

function limpiarFiltros() {
  document.getElementById('buscarInput').value = '';
  document.getElementById('categoriaFilter').value = '';
  productosFiltrados = [...productos];
  mostrarProductos();
  mostrarEscenario('catalogo');
}
</script>
</body>
</html>