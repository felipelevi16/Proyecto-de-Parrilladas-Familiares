<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar al Carrito - Parrilladas Familiares</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #f8f9fa; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        
        .header { background: #8B0000; color: white; padding: 15px; }
        .nav { display: flex; justify-content: space-between; align-items: center; }
        .cart-counter { background: #FFD700; color: #8B0000; border-radius: 50%; width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-left: 5px; }
        
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .product-card { background: white; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .product-image { width: 100%; height: 150px; background: #f0f0f0; border-radius: 6px; display: flex; align-items: center; justify-content: center; color: #8B0000; margin-bottom: 10px; }
        .product-name { font-weight: bold; margin-bottom: 5px; }
        .product-price { color: #8B0000; font-weight: bold; margin: 10px 0; }
        .add-btn { background: #8B0000; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; width: 100%; }
        .add-btn:disabled { background: #ccc; cursor: not-allowed; }
        
        .product-detail { background: white; padding: 30px; border-radius: 8px; margin-top: 20px; }
        .detail-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .detail-image { width: 100%; height: 300px; background: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #8B0000; font-weight: bold; }
        
        .quantity { display: flex; align-items: center; gap: 15px; margin: 20px 0; }
        .quantity-controls { display: flex; align-items: center; gap: 10px; border: 1px solid #ddd; border-radius: 4px; padding: 5px; }
        .quantity-btn { background: none; border: none; cursor: pointer; padding: 5px 10px; }
        .quantity-input { width: 50px; text-align: center; border: none; }
        
        .notification { position: fixed; top: 20px; right: 20px; background: #27ae60; color: white; padding: 15px; border-radius: 4px; display: none; }
        
        .hidden { display: none; }
        
        @media (max-width: 768px) {
            .detail-layout { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="notification" id="notification">Producto agregado!</div>
    
    <!-- Escenario 1: CatÃ¡logo -->
    <div id="escenario1">
        <div class="header">
            <div class="nav">
                <div class="logo">ðŸ¥© Parrilladas</div>
                <div>Carrito <span class="cart-counter" id="cartCounter1">0</span></div>
            </div>
        </div>
        
        <div class="container">
            <h1 style="text-align:center; color:#8B0000; margin-bottom:20px;">Nuestros Productos</h1>
            
            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">COSTILLAR</div>
                    <div class="product-name">Costillar de Cerdo</div>
                    <div class="product-price">$45.000</div>
                    <button class="add-btn" onclick="agregarProducto(1)">ðŸ›’ Agregar</button>
                </div>
                
                <div class="product-card">
                    <div class="product-image">CRUSHO</div>
                    <div class="product-name">Crusho de Res</div>
                    <div class="product-price">$38.000</div>
                    <button class="add-btn" onclick="agregarProducto(2)">ðŸ›’ Agregar</button>
                </div>
                
                <div class="product-card">
                    <div class="product-image">POLLO</div>
                    <div class="product-name">Pollo Asado</div>
                    <div class="product-price">$16.000</div>
                    <button class="add-btn" onclick="agregarProducto(3)">ðŸ›’ Agregar</button>
                </div>
                
                <div class="product-card">
                    <div class="product-image">CHORIZOS</div>
                    <div class="product-name">Chorizos Caseros</div>
                    <div class="product-price">$18.000</div>
                    <button class="add-btn" onclick="agregarProducto(4)">ðŸ›’ Agregar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Escenario 2: Detalle con cantidad -->
    <div id="escenario2" class="hidden">
        <div class="header">
            <div class="nav">
                <div class="logo">ðŸ¥© Parrilladas</div>
                <div>Carrito <span class="cart-counter" id="cartCounter2">0</span></div>
            </div>
        </div>
        
        <div class="container">
            <div class="product-detail">
                <div class="detail-layout">
                    <div class="detail-image">POLLO ASADO</div>
                    
                    <div>
                        <h1 style="color:#8B0000; margin-bottom:10px;">Pollo Asado Premium</h1>
                        <div style="color:#666; margin-bottom:15px;">Pollo marinado 24h con hierbas</div>
                        <div style="font-size:24px; color:#8B0000; font-weight:bold; margin:15px 0;">$16.000</div>
                        
                        <div style="background:#f9f9f9; padding:15px; border-radius:6px; margin:15px 0;">
                            <div style="display:flex; justify-content:space-between; margin:5px 0;"><span>Peso:</span> <span>1.6 kg</span></div>
                            <div style="display:flex; justify-content:space-between; margin:5px 0;"><span>Para:</span> <span>3-4 personas</span></div>
                            <div style="display:flex; justify-content:space-between; margin:5px 0;"><span>Stock:</span> <span style="color:#27ae60;">12 disponibles</span></div>
                        </div>
                        
                        <div class="quantity">
                            <div>Cantidad:</div>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="cambiarCantidad(-1)">-</button>
                                <input type="text" class="quantity-input" id="quantity" value="1" readonly>
                                <button class="quantity-btn" onclick="cambiarCantidad(1)">+</button>
                            </div>
                        </div>
                        
                        <button style="background:#8B0000; color:white; border:none; padding:15px; border-radius:4px; cursor:pointer; width:100%; font-size:16px;" onclick="agregarConCantidad()">
                            ðŸ›’ Agregar al Carrito
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Escenario 3: Producto agotado -->
    <div id="escenario3" class="hidden">
        <div class="header">
            <div class="nav">
                <div class="logo">ðŸ¥© Parrilladas</div>
                <div>Carrito <span class="cart-counter">0</span></div>
            </div>
        </div>
        
        <div class="container">
            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">PUNTA ANCA</div>
                    <div class="product-name">Punta de Anca</div>
                    <div class="product-price">$52.000</div>
                    <button class="add-btn" disabled>âœ— Agotado</button>
                </div>
            </div>
        </div>
    </div>
    

    <script>
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        let cantidad = 1;

        function actualizarCarrito() {
            const total = carrito.reduce((sum, item) => sum + item.cantidad, 0);
            document.querySelectorAll('.cart-counter').forEach(counter => {
                counter.textContent = total;
            });
            localStorage.setItem('carrito', JSON.stringify(carrito));
        }

        function agregarProducto(id) {
            const productos = {
                1: { nombre: "Costillar de Cerdo", precio: 45000 },
                2: { nombre: "Crusho de Res", precio: 38000 },
                3: { nombre: "Pollo Asado", precio: 16000 },
                4: { nombre: "Chorizos Caseros", precio: 18000 }
            };
            
            const producto = productos[id];
            const existente = carrito.find(item => item.id === id);
            
            if (existente) {
                existente.cantidad++;
            } else {
                carrito.push({ id, ...producto, cantidad: 1 });
            }
            
            actualizarCarrito();
            mostrarNotificacion(`${producto.nombre} agregado`);
        }

        function cambiarCantidad(delta) {
            cantidad += delta;
            if (cantidad < 1) cantidad = 1;
            if (cantidad > 12) cantidad = 12;
            document.getElementById('quantity').value = cantidad;
        }

        function agregarConCantidad() {
            const producto = { id: 3, nombre: "Pollo Asado Premium", precio: 16000 };
            const existente = carrito.find(item => item.id === 3);
            
            if (existente) {
                existente.cantidad += cantidad;
            } else {
                carrito.push({ ...producto, cantidad });
            }
            
            actualizarCarrito();
            mostrarNotificacion(`${cantidad} ${producto.nombre} agregado(s)`);
            cantidad = 1;
            document.getElementById('quantity').value = 1;
        }

        function mostrarNotificacion(mensaje) {
            const notif = document.getElementById('notification');
            notif.textContent = mensaje;
            notif.style.display = 'block';
            setTimeout(() => notif.style.display = 'none', 2000);
        }

        function mostrarEscenario(num) {
            document.getElementById('escenario1').classList.toggle('hidden', num !== 1);
            document.getElementById('escenario2').classList.toggle('hidden', num !== 2);
            document.getElementById('escenario3').classList.toggle('hidden', num !== 3);
        }

        // Inicializar
        actualizarCarrito();
    </script>
</body>
</html>