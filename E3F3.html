<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrega - Parrilladas</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
        body{background:#f8f9fa;color:#333}
        .header{background:#042490;color:white;padding:15px}
        .nav{display:flex;justify-content:space-between;align-items:center;max-width:800px;margin:0 auto}
        .nav a{color:white;text-decoration:none}
        .container{max-width:800px;margin:0 auto;padding:20px}
        .progress-bar{display:flex;justify-content:space-between;margin:20px 0}
        .step-circle{width:30px;height:30px;border-radius:50%;background:white;border:2px solid #ddd;display:flex;align-items:center;justify-content:center;margin:0 auto 5px;font-weight:bold}
        .step-circle.active{border-color:#042490;background:#042490;color:white}
        .delivery-options{background:white;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 5px rgba(0,0,0,0.1)}
        .radio-option{padding:15px;border:2px solid #eee;border-radius:8px;cursor:pointer;margin-bottom:10px}
        .radio-option.selected{border-color:#042490;background:#fff9f9}
        .form-section{background:#f9f9f9;padding:15px;border-radius:8px;margin-top:15px;display:none}
        .form-section.active{display:block}
        .form-group{margin-bottom:15px}
        .form-control{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px}
        .time-slots{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
        .time-slot{padding:10px;border:1px solid #ddd;border-radius:4px;text-align:center;cursor:pointer}
        .time-slot.selected{background:#042490;color:white}
        .action-buttons{display:flex;gap:10px;margin-top:20px}
        .btn{padding:12px 20px;border:none;border-radius:4px;cursor:pointer;flex:1;text-align:center;text-decoration:none}
        .btn-primary{background:#042490;color:white}
        .btn-secondary{background:#f8f9fa;color:#333;border:1px solid #ddd}
        .notification{position:fixed;top:20px;right:20px;background:#27ae60;color:white;padding:10px 15px;border-radius:4px;display:none}
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <div>ü•© Parrilladas</div>
            <div>
                <a href="E3F2.html">‚Üê Carrito</a>
            </div>
        </div>
    </div>
    
    <div class="container">
        <h2 style="text-align:center;color:#042490;margin:20px 0">M√©todo de Entrega</h2>
        
        <div class="progress-bar">
            <div style="text-align:center">
                <div class="step-circle">1</div>
                <div>Carrito</div>
            </div>
            <div style="text-align:center">
                <div class="step-circle active">2</div>
                <div style="color:#042490;font-weight:bold">Entrega</div>
            </div>
            <div style="text-align:center">
                <div class="step-circle">3</div>
                <div>Pago</div>
            </div>
        </div>
        
        <div class="delivery-options">
            <div style="margin-bottom:15px;font-weight:bold">M√©todo de entrega:</div>
            
            <div class="radio-option selected" onclick="selMetodo('retiro')">
                <div style="display:flex;align-items:center;gap:10px">
                    <div>
                        <div style="font-weight:bold">Retiro en Local</div>
                        <div style="color:#666;font-size:14px">Recoge en sucursal</div>
                        <div style="color:#042490;font-weight:bold">Gratis</div>
                    </div>
                </div>
            </div>
            
            <div class="radio-option" onclick="selMetodo('delivery')">
                <div style="display:flex;align-items:center;gap:10px">
                    <div>
                        <div style="font-weight:bold">Delivery a Domicilio</div>
                        <div style="color:#666;font-size:14px">Env√≠o a tu casa</div>
                        <div style="color:#042490;font-weight:bold">$5.000</div>
                    </div>
                </div>
            </div>
            
            <div id="pickupForm" class="form-section active">
                <div class="form-group">
                    <label>Sucursal:</label>
                    <select class="form-control" onchange="actualizarSucursal(this.value)">
                        <option value="">Selecciona sucursal</option>
                        <option value="vitacura">Vitacura</option>
                        <option value="las-condes">Las Condes</option>
                        <option value="providencia">Providencia</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Hora de retiro:</label>
                    <div class="time-slots" id="timeSlots"></div>
                </div>
            </div>
            
            <div id="deliveryForm" class="form-section">
                <div class="form-group">
                    <label>Direcci√≥n:</label>
                    <textarea class="form-control" rows="2" placeholder="Direcci√≥n completa"></textarea>
                </div>
                
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
                    <div class="form-group">
                        <label>Comuna:</label>
                        <select class="form-control">
                            <option value="">Selecciona comuna</option>
                            <option value="vitacura">Vitacura</option>
                            <option value="las-condes">Las Condes</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Tel√©fono:</label>
                        <input type="tel" class="form-control" placeholder="+56 9 1234 5678">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Horario preferido:</label>
                    <div class="time-slots">
                        <div class="time-slot">12:00 - 14:00</div>
                        <div class="time-slot selected">14:00 - 16:00</div>
                        <div class="time-slot">16:00 - 18:00</div>
                        <div class="time-slot">18:00 - 20:00</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <a href="E3F2.html" class="btn btn-secondary">‚Üê Volver</a>
            <button class="btn btn-primary" onclick="guardarEntrega()">Continuar ‚Üí</button>
        </div>
    </div>

    <div class="notification" id="notification">‚úÖ M√©todo guardado!</div>

    <script>
        let metodo = 'retiro';
        let horario = '14:00';

        document.addEventListener('DOMContentLoaded', function() {
            generarHorarios();
        });

        function selMetodo(m) {
            metodo = m;
            document.querySelectorAll('.radio-option').forEach(opt => opt.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            document.getElementById('pickupForm').classList.toggle('active', m === 'retiro');
            document.getElementById('deliveryForm').classList.toggle('active', m === 'delivery');
        }

        function generarHorarios() {
            const timeSlots = document.getElementById('timeSlots');
            const horas = ['10:00', '12:00', '14:00', '16:00', '18:00', '20:00'];
            
            horas.forEach(hora => {
                const slot = document.createElement('div');
                slot.className = 'time-slot' + (hora === '14:00' ? ' selected' : '');
                slot.textContent = hora + ' hrs';
                slot.onclick = function() {
                    document.querySelectorAll('#timeSlots .time-slot').forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                    horario = hora;
                };
                timeSlots.appendChild(slot);
            });
        }

        function actualizarSucursal(valor) {
            // L√≥gica simplificada para actualizar sucursal
        }

        function guardarEntrega() {
            if (metodo === 'retiro') {
                notificar('Retiro programado');
            } else {
                notificar('Direcci√≥n guardada');
            }
            
            setTimeout(() => {
                notificar('Redirigiendo al pago...');
            }, 1500);
        }

        function notificar(mensaje) {
            const notification = document.getElementById('notification');
            notification.textContent = mensaje;
            notification.style.display = 'block';
            setTimeout(() => notification.style.display = 'none', 3000);
        }
    </script>
</body>
</html>