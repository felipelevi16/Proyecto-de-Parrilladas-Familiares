<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administración de Reservas - Parrilladas Familiares</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background-color: #f8f9fa; }
        .header { background: #8B0000; color: white; padding: 15px; text-align: center; }
        .admin-nav { background: #343a40; padding: 15px; }
        .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: center; gap: 30px; }
        .nav-item { color: white; text-decoration: none; padding: 10px 20px; border-radius: 4px; transition: background 0.3s; }
        .nav-item:hover, .nav-item.active { background: #8B0000; }
        .container { max-width: 1000px; margin: 0 auto; padding: 30px 20px; }
        .page-title { text-align: center; margin-bottom: 30px; color: #333; }
        
        .reservation-details { background: white; border-radius: 8px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .detail-group { margin-bottom: 20px; }
        .detail-label { font-weight: bold; color: #333; margin-bottom: 5px; }
        .detail-value { color: #666; font-size: 16px; }
        
        .availability-status { padding: 15px; border-radius: 4px; margin: 20px 0; text-align: center; font-weight: bold; }
        .available { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .not-available { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        
        .alternative-times { background: #e7f3ff; padding: 20px; border-radius: 4px; margin: 20px 0; }
        .alternative-title { color: #004085; margin-bottom: 15px; font-weight: bold; }
        .time-slots { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; }
        .time-slot { padding: 10px; border: 1px solid #b8daff; border-radius: 4px; text-align: center; cursor: pointer; background: white; transition: all 0.3s; }
        .time-slot:hover { background: #b8daff; }
        .time-slot.selected { background: #007bff; color: white; border-color: #007bff; }
        
        .action-buttons { display: flex; gap: 15px; justify-content: center; margin-top: 30px; }
        .btn { padding: 12px 25px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; text-align: center; min-width: 150px; }
        .btn-primary { background: #8B0000; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn-warning { background: #ffc107; color: #212529; }
        
        .confirmation-message { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; padding: 20px; border-radius: 4px; text-align: center; margin: 20px 0; }
        
        .hidden { display: none; }
        .notification { position: fixed; top: 20px; right: 20px; background: #28a745; color: white; padding: 15px 20px; border-radius: 4px; display: none; z-index: 1000; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Parrilladas Familiares - Administración</h1>
    </div>
    
    <div class="admin-nav">
        <div class="nav-container">
            <a href="#" class="nav-item">Dashboard</a>
            <a href="#" class="nav-item">Administrar Pedidos</a>
            <a href="#" class="nav-item active">Administrar Reservas</a>
            <a href="#" class="nav-item">Administrar Promociones</a>
            <a href="#" class="nav-item">Administrar Catálogo</a>
        </div>
    </div>
    
    <div class="container">
        <h2 class="page-title">Administración de Reservas</h2>
        
        <div class="notification" id="notification"></div>
        
        <!-- Escenario 1: Mesa disponible -->
        <div class="reservation-details" id="scenario1">
            <h3 style="color: #333; margin-bottom: 25px; text-align: center;">Resumen de Reserva</h3>
            
            <div class="detail-group">
                <div class="detail-label">Nombre Cliente:</div>
                <div class="detail-value">Eduardo Díaz</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Teléfono:</div>
                <div class="detail-value">+56 9 1234 5678</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Fecha y hora:</div>
                <div class="detail-value">16 de agosto, 22:00 hrs</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Cantidad de asistentes:</div>
                <div class="detail-value">8 personas</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Sucursal:</div>
                <div class="detail-value">Las Condes</div>
            </div>
            
            <div class="availability-status available">
                MESA DISPONIBLE EN ESTE HORARIO
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="goBack()">Volver a Administración</button>
                <button class="btn btn-success" onclick="confirmReservation()">Agendar Reserva</button>
            </div>
        </div>

        <!-- Escenario 2: Mesa no disponible -->
        <div class="reservation-details hidden" id="scenario2">
            <h3 style="color: #333; margin-bottom: 25px; text-align: center;">Resumen de Reserva</h3>
            
            <div class="detail-group">
                <div class="detail-label">Nombre Cliente:</div>
                <div class="detail-value">Eduardo Díaz</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Teléfono:</div>
                <div class="detail-value">+56 9 1234 5678</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Fecha y hora solicitada:</div>
                <div class="detail-value">16 de agosto, 22:00 hrs</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Cantidad de asistentes:</div>
                <div class="detail-value">8 personas</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Sucursal:</div>
                <div class="detail-value">Las Condes</div>
            </div>
            
            <div class="availability-status not-available">
                MESA NO DISPONIBLE EN ESTE HORARIO
            </div>
            
            <div class="alternative-times">
                <div class="alternative-title">Horarios Alternativos Disponibles:</div>
                <div class="time-slots">
                    <div class="time-slot">20:30 hrs</div>
                    <div class="time-slot">21:00 hrs</div>
                    <div class="time-slot selected">21:30 hrs</div>
                    <div class="time-slot">23:00 hrs</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="goBack()">Volver a Administración</button>
                <button class="btn btn-warning" onclick="proposeAlternative()">Proponer Horario Alternativo</button>
            </div>
        </div>

        <!-- Escenario 3: Reserva confirmada -->
        <div class="reservation-details hidden" id="scenario3">
            <div class="confirmation-message">
                <h3>AGENDAMIENTO CONFIRMADO</h3>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Nombre Cliente:</div>
                <div class="detail-value">Eduardo Díaz</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Teléfono:</div>
                <div class="detail-value">+56 9 1234 5678</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Fecha y hora confirmada:</div>
                <div class="detail-value">16 de agosto, 21:30 hrs</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Cantidad de asistentes:</div>
                <div class="detail-value">8 personas</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Sucursal:</div>
                <div class="detail-value">Las Condes</div>
            </div>
            
            <div class="detail-group">
                <div class="detail-label">Número de Mesa:</div>
                <div class="detail-value">Mesa #12 (Terraza)</div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="goBack()">Volver a Administración</button>
            </div>
        </div>
    </div>

    <script>
        // Sistema de notificaciones
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            notification.style.backgroundColor = type === 'success' ? '#28a745' : '#dc3545';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Funcionalidad de horarios alternativos
        document.addEventListener('DOMContentLoaded', function() {
            const timeSlots = document.querySelectorAll('.time-slot');
            timeSlots.forEach(slot => {
                slot.addEventListener('click', function() {
                    timeSlots.forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        });

        // Funciones de navegación entre escenarios
        function goBack() {
            showNotification('Volviendo al panel de administración');
            // En una implementación real, redirigiría al dashboard
            console.log('Navegando al panel de administración');
        }

        function confirmReservation() {
            showNotification('Reserva confirmada exitosamente');
            
            // Simular transición al escenario 3
            document.getElementById('scenario1').classList.add('hidden');
            document.getElementById('scenario3').classList.remove('hidden');
            
            // En una implementación real, enviaría los datos al servidor
            const reservationData = {
                client: 'Eduardo Díaz',
                phone: '+56 9 1234 5678',
                date: '16 de agosto',
                time: '22:00 hrs',
                people: 8,
                branch: 'Las Condes',
                table: 'Mesa #12 (Terraza)'
            };
            
            console.log('Reserva confirmada:', reservationData);
        }

        function proposeAlternative() {
            const selectedTime = document.querySelector('.time-slot.selected').textContent;
            showNotification(`Horario alternativo propuesto: ${selectedTime}`);
            
            // Simular transición al escenario 3 con horario alternativo
            document.getElementById('scenario2').classList.add('hidden');
            document.getElementById('scenario3').classList.remove('hidden');
            
            // Actualizar la hora en el escenario 3
            document.querySelector('#scenario3 .detail-value:nth-child(3)').textContent = 
                `16 de agosto, ${selectedTime}`;
            
            console.log(`Proponiendo horario alternativo: ${selectedTime}`);
        }

        // Simulación: Cambiar entre escenarios para demo
        function switchScenario(scenario) {
            // Ocultar todos los escenarios
            document.querySelectorAll('.reservation-details').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Mostrar el escenario seleccionado
            document.getElementById(`scenario${scenario}`).classList.remove('hidden');
            
            showNotification(`Mostrando escenario ${scenario}`);
        }

        // Navegación del menú
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                showNotification(`Navegando a: ${this.textContent}`);
            });
        });

        // Demo: Permitir cambiar entre escenarios desde la consola
        console.log('Para cambiar entre escenarios, usa: switchScenario(1), switchScenario(2) o switchScenario(3)');
    </script>
</body>
</html>